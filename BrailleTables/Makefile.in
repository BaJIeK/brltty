###############################################################################
# BRLTTY - A background process providing access to the Linux console (when in
#          text mode) for a blind person using a refreshable braille display.
#
# Copyright (C) 1995-2003 by The BRLTTY Team. All rights reserved.
#
# BRLTTY comes with ABSOLUTELY NO WARRANTY.
#
# This is free software, placed under the terms of the
# GNU General Public License, as published by the Free Software
# Foundation.  Please see the file COPYING for details.
#
# Web Page: http://mielke.cc/brltty/
#
# This software is maintained by Dave Mielke <dave@mielke.cc>.
###############################################################################

include $(BLD_TOP)config.mk

###############################################################################
# This Makefile produces some tools to manipulate braille definition tables
# used by BRLTTY.
###############################################################################

PROGRAMS = txt2tbl$X tbl2txt$X tbl2tbl$X tbl2jbt$X isotoibm437$X ibm437toiso$X ibm850toiso$X
all: $(PROGRAMS)

OPTIONS_OBJECTS = $(BLD_TOP)$(PGM_DIR)/options.$O $(BLD_TOP)$(PGM_DIR)/misc.$O

TXT2TBL_OBJECTS = txt2tbl.$O $(OPTIONS_OBJECTS)
txt2tbl$X: $(TXT2TBL_OBJECTS)
	$(CC) $(LDFLAGS) -o $@ $(TXT2TBL_OBJECTS) $(LDLIBS)
txt2tbl.$O:
	$(CC) $(CFLAGS) -c $(SRC_DIR)/txt2tbl.c

TBL2TXT_OBJECTS = tbl2txt.$O $(OPTIONS_OBJECTS) $(BLD_TOP)$(UCD_DIR)/unicode.$O
tbl2txt$X: $(TBL2TXT_OBJECTS)
	$(CC) $(LDFLAGS) -o $@ $(TBL2TXT_OBJECTS) $(LDLIBS)
tbl2txt.$O:
	$(CC) $(CFLAGS) -c $(SRC_DIR)/tbl2txt.c

TBL2TBL_OBJECTS = tbl2tbl.$O $(OPTIONS_OBJECTS)
tbl2tbl$X: $(TBL2TBL_OBJECTS)
	$(CC) $(LDFLAGS) -o $@ $(TBL2TBL_OBJECTS) $(LDLIBS)
tbl2tbl.$O:
	$(CC) $(CFLAGS) -c $(SRC_DIR)/tbl2tbl.c

TBL2JBT_OBJECTS = tbl2jbt.$O $(OPTIONS_OBJECTS)
tbl2jbt$X: $(TBL2JBT_OBJECTS)
	$(CC) $(LDFLAGS) -o $@ $(TBL2JBT_OBJECTS) $(LDLIBS)
tbl2jbt.$O:
	$(CC) $(CFLAGS) -c $(SRC_DIR)/tbl2jbt.c

ISOTOIBM437_OBJECTS = isotoibm437.$O
isotoibm437$X: $(ISOTOIBM437_OBJECTS)
	$(CC) $(LDFLAGS) -o $@ $(ISOTOIBM437_OBJECTS) $(LDLIBS)
isotoibm437.$O:
	$(CC) $(CFLAGS) -c $(SRC_DIR)/isotoibm437.c

IBM437TOISO_OBJECTS = ibm437toiso.$O
ibm437toiso$X: $(IBM437TOISO_OBJECTS)
	$(CC) $(LDFLAGS) -o $@ $(IBM437TOISO_OBJECTS) $(LDLIBS)
ibm437toiso.$O:
	$(CC) $(CFLAGS) -c $(SRC_DIR)/ibm437toiso.c

IBM850TOISO_OBJECTS = ibm850toiso.$O
ibm850toiso$X: $(IBM850TOISO_OBJECTS)
	$(CC) $(LDFLAGS) -o $@ $(IBM850TOISO_OBJECTS) $(LDLIBS)
ibm850toiso.$O:
	$(CC) $(CFLAGS) -c $(SRC_DIR)/ibm850toiso.c

clean::
	-rm -f $(PROGRAMS)

