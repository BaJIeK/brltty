BRLTTY Driver for the Tieman Voyager Braille Display

Authors:
Stéphane Doyon  <s.doyon@videotron.ca>
Stéphane Dalton <sdalton@videotron.ca>

Note to users of previous versions: Starting with version 0.8, the
character recommended device file name is changed to /dev/brlvger and its
minor is changed to 128 (now officially assigned). Please run "make
install-device" again and change your brltty.conf to indicate
"braille-device /dev/brlvger".

This driver supports the Tieman Voyager 44 and 70.

Many thanks to the Tieman people: Corand van Strien, Ivar Illing, Daphne
Vogelaar and Ingrid Vogel. They provided us with a Braille display (as
well as programming information) so that we could write this driver. They
replaced the display when it broke and they answered our technical
questions. It is very motivating when companies take an interest in such
projects and are so supportive.

Thanks to Andor Demarteau <ademarte@students.cs.uu.nl> who got this whole
project started and beta-tested all our early buggy attempts.

The driver has been in heavy use for about six months now (as of April
2002) by a very few users (about 3-4), who say it has worked very well
for them.

I have chosen the key bindings somewhat quickly, and also I have never
used Tieman's software for the Voyager so I do not know what key bindings
users may be used to. But I haven't received any comments about the
bindings so they must not be all that bad.

When BRLTTY will be running, press the leftmost routing key to bring up
the help screen so you can read the details of the key bindings.

Other BRLTTY drivers are typically "stand alone" in the sense that they
can just open a serial port and talk directly to the display. However the
Voyager display connects through USB, so this driver must rely on a
kernel module to talk to the display.

We are now getting our USB driver for the Voyager into the mainstream
kernel. But unless you are living on the edge in terms of kernel
versions, it may take several months for distributions to catch up to a
kernel version where the Voyager driver (called brlvger) is already
present. I am not certain yet in which kernel version the driver will
appear, but it is no sooner than 2.4.19. You can determine if the driver
is included by checking for the presence of the file
/usr/include/linux/brlvger.h.

For the very likely case in which the necessary kernel driver is not
included in your kernel (or is not selecteded in the kernel
configuration), we are providing the same driver in the form of a
standalone module in the kernel/ directory. So you must also compile and
install the kernel module found in the kernel/ subdirectory: see
kernel/README.

The kernel module implements a character device file which this driver
uses to talk to the kernel module. Use "make install-device" from THIS
directory to create that device file. Alternatively you can use mknod and
create a character device file with major 180 and minor 128. We suggest
the name /dev/brlvger.

You must tell BRLTTY to use that device file as the braille device. To do
this, edit the top-level BRLTTY Makefile and change
BRLDEV = /dev/ttyS0
to
BRLDEV = /dev/brlvger
Alternatively use the braille-device parameter in your BRLTTY
configuration file: in /etc/brltty.conf, put a line like:
braille-device /dev/brlvger

Before you start BRLTTY, you will need to insert the kernel module. Do:
/sbin/modprobe brlvger
Do not forget this command if you intend to modify your boot scripts to
start BRLTTY automatically.

Look in /var/log/messages for confirmation or error messages.

This driver knows four parameters, which you can pass using the
braille-parameters clause in your BRLTTY configuration file. They control
the repeat rate of some keys (only a few keys actually do repeat when
they are held). They are:
-"repeat_init_delay": delay in milliseconds before some movement key
   starts to repeat.
-"repeat_inter_delay": Delay in milliseconds between each repetition
   of movement keys.
-"dots_repeat_init_delay" and "dots_repeat_inter_delay": Same thing but
   for typed braille dots.
The default values (given in brlconf.h) seem fine, but if you want to
change them, place a line like this in your brltty.conf:
braille-parameters repeat_init_delay=300,repeat_inter_delay=150

There is only a handful of BRLTTY users, so if you are trying out this
driver, please drop us a note, even if you have no problems!

Note to BRLTTY developers: This is my first attempt at combining the key
binding definitions with the help file text in one place, through
annotations in the brl.c file. If you change the key bindings, currently
you need python installed to be able to rebuild the help files.
